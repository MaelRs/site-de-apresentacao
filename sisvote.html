<!DOCTYPE html>
<html lang="pt-Br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Votação</title>    
</head>
<body>
    
  <h1>Quem é o melhor Personagem de desenho animado?</h1>

  <div class="candidates">
    <label>
      <input type="radio" name="candidate" value="candidate1">
      <img src="imagens/bobesponja.jpg" alt="Bobesponja">
      <span>Bob Esponja</span>
    </label>

    <label>
      <input type="radio" name="candidate" value="candidate2">
      <img src="imagens/pernalonga.jpg" alt="Pernalonga">
      <span>Pernalonga</span>
    </label>

    <label>
      <input type="radio" name="candidate" value="candidate3">
      <img src="imagens/picapau.jpg" alt="picapau">
      <span>Pica-Pau</span>
    </label>
  </div>

  <div class="confirm-button">
    <button onclick="confirmVote()">Confirmar Voto</button>
  </div>

  <div class="result-chart">
    <h2>Resultado da Votação</h2>
    <div class="result-bar" id="result1">
      <span>Candidate 1:</span>
      <div class="bar"></div>
    </div>
    <div class="result-bar" id="result2">
      <span>Candidate 2:</span>
      <div class="bar"></div>
    </div>
    <div class="result-bar" id="result3">
      <span>Candidate 3:</span>
      <div class="bar"></div>
    </div>
  </div>

  <script>
    let c=5;
    while (c>0) {
      c--
      const result1 = document.getElementById('result1');
      const result2 = document.getElementById('result2');
      const result3 = document.getElementById('result3');
      const confirmButton = document.querySelector('.confirm-button button');
      const candidateRadios = document.querySelectorAll('.candidates input[type="radio"]');
      const resultBars = document.querySelectorAll('.result-bar');
    }
      let votes = {
        candidate1: 0,
        candidate2: 0,
        candidate3: 0
      };
      

      function confirmVote() {
        const selectedCandidate = document.querySelector('.candidates input[type="radio"]:checked');

        if (selectedCandidate) {
          votes[selectedCandidate.value]++;
          updateResultChart();
          resetSelection();
          confirmButton.disabled = true;
        }
      }

      function updateResultChart() {
        const totalVotes = Object.values(votes).reduce((sum, vote) => sum + vote, 0);

        resultBars.forEach((resultBar, index) => {
          const candidateName = `candidate${index + 1}`;
          const votePercentage = totalVotes !== 0 ? ((votes[candidateName] / totalVotes) * 100).toFixed(2) : 0;

          resultBar.querySelector('.bar').style.width = `${votePercentage}%`;
          resultBar.querySelector('.bar').textContent = `${votePercentage}%`;
        });
      }

    function resetSelection() {
      candidateRadios.forEach(candidateRadio => {
        candidateRadio.checked = false;
      });
    }
  </script>
</body>
</html>

</head>
<body>
    
</body>
</html>